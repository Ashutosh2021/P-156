<!DOCTYPE html>
<html>

    <head>
        <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
        <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.1/dist/aframe-extras.min.js"></script>
        <script src="//cdn.jsdelivr.net/gh/n5ro/aframe-physics-system@v4.0.1/dist/aframe-physics-system.min.js" target="_blank"></script>
        <script src="./Rotation.js"></script>
        <script src="./Fish.js"></script>
        <script src="./Treasure.js"></script>
        <script src="./Game.js"></script>

    </head>
    
    <body>
        <a-scene background="color:#003377" physics="friction:0.01 , restitution=0.01 ">

            <a-entity
                camera="active: true"
                look-controls
                position="0 5 23"
            ></a-entity>

            <a-assets timeout="10000">

                <a-asset-item 
                    id="scuba_driver" 
                    src="./assets/scuba_driver/scene.gltf"
                    ></a-asset-item>

                <a-asset-item
                    id="island"
                    src="./assets/island/scene.gltf"
                ></a-asset-item>
            
                <a-asset-item
                    id="treasure"
                    src="./assets/treasure/model.gltf"
                ></a-asset-item>

                <a-asset-item 
                    id="turtle" 
                    src="./assets/turtle/scene.gltf"
                ></a-asset-item>        
        
      
            </a-assets>

            <a-entity
                id="scuba_driver_model"
                gltf-model="#scuba_driver"
                scale="0.1 0.1 0.1"
                position="5 0 13"
                rotation="0 90 -20"
                driver-rotation-reader
                dynamic-body="mass:0"
            ></a-entity>

            <a-entity
                gltf-model="#island"
                scale="1 1 1"
                position="0 -15 -40"
                animation="property: rotation; to: 0 300 0; easing:linear; loop: true; dur: 500000"
            >

                <a-entity
                gltf-model="#treasure"
                scale="17 17 17"
                position="-10 -20 -3"
                rotation="0 90 0"
                ></a-entity>

                <a-entity
                gltf-model="#treasure"
                scale="15 15 15"
                position="10 -20 -3"
                rotation="0 90 0"
                ></a-entity>

                <a-entity
                gltf-model="#treasure"
                scale="17 17 17"
                position="-15 -20 -3"
                rotation="0 90 0"
                ></a-entity>

                <a-entity
                gltf-model="#treasure"
                scale="15 15 15"
                position="8 -16 -3"
                rotation="0 90 0"
                ></a-entity>
            
                <a-entity
                gltf-model="#turtle"
                scale="0.005 0.005 0.005"
                position="0 -15 0"
                rotation="0 90 0"
                ></a-entity>

                <a-entity id="treasureCoins" position="0 0 0" coins></a-entity>
                <a-entity id="fishModels" position="0 0 0" fish></a-entity>

            </a-entity>

            <a-entity id="header" position="-4 0 0">
                <a-entity
                position="-27.5 21.5 0"
                text="font: exo2bold; align: center; width: 50; color: black; value:VR Scuba Dive"
              ></a-entity>

              <a-entity position="-23.5 19.3 0">
                <a-entity
                  position=""
                  text="font: aileronsemibold; width: 14; color: black; value: TIME\nREMAINING"
                ></a-entity>
                <a-entity
                  id="timer"
                  position="-9.4 0.3 0"
                  text="font: exo2bold; align: center; width: 30; color: black; value: 00:00"
                ></a-entity>
              </a-entity>

              <a-entity position="-18 19.3 0">
                <a-entity
                  position=""
                  text="font: aileronsemibold; width: 13; color: black; value: TRAGETS\nREMAINING"
                ></a-entity>
                <a-entity
                  id="targets"
                  position="-7.8 0.3 0"
                  text="font: exo2bold; align: center; width: 30; color: black; value: 10"
                ></a-entity>
              </a-entity>

              <a-entity position="40.5 21.5 0">
                <a-entity
                  position=""
                  text="font:exo2bold; align: center; width: 30; color: black; value: SCORE"
                ></a-entity>
                <a-entity
                  id="score"
                  position="0 -1.5 0"
                  text="font: exo2bold; align: center; width: 50; color:black; value:0"
                ></a-entity>
              </a-entity>

              <a-entity
                id="game_over_text"
                position="2 1 0"
                text="font:exo2bold; align: center; width:130; color:white; value:  GAME OVER!!"
                visible="false"
              ></a-entity>

            </a-entity>
            
        </a-scene>
    </body>
</html>